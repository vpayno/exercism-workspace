
[./clock.bats]

bats ./clock.bats

1..42
ok 1 on the hour
ok 2 past the hour
ok 3 midnight is zero hours
ok 4 hour rolls over
ok 5 hour rolls over continuously
ok 6 sixty minutes is next hour
ok 7 minutes roll over
ok 8 minutes roll over continuously
ok 9 hour and minutes roll over
ok 10 hour and minutes roll over continuously
ok 11 hour and minutes roll over to exactly midnight
ok 12 negative hour
ok 13 negative hour rolls over
ok 14 negative hour rolls over continuously
ok 15 negative minutes
ok 16 negative minutes roll over
ok 17 negative minutes roll over continuously
ok 18 negative sixty minutes is previous hour
ok 19 negative hour and minutes both roll over
ok 20 negative hour and minutes both roll over continuously
ok 21 add minutes
ok 22 add no minutes
ok 23 add to next hour
ok 24 add more than one hour
ok 25 add more than two hours with carry
ok 26 add across midnight
ok 27 add more than one day (1500 min = 25 hrs)
ok 28 add more than two days
not ok 29 subtract minutes
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 231)
#   `assert_output "10:00"' failed
# 
# -- output differs --
# expected : 10:00
# actual   : 11:00
# --
# 
not ok 30 subtract to previous hour
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 238)
#   `assert_output "09:33"' failed
# 
# -- output differs --
# expected : 09:33
# actual   : 10:33
# --
# 
not ok 31 subtract more than an hour
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 245)
#   `assert_output "08:53"' failed
# 
# -- output differs --
# expected : 08:53
# actual   : 09:53
# --
# 
not ok 32 subtract across midnight
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 252)
#   `assert_output "23:59"' failed
# 
# -- output differs --
# expected : 23:59
# actual   : 00:59
# --
# 
not ok 33 subtract more than two hours
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 259)
#   `assert_output "21:20"' failed
# 
# -- output differs --
# expected : 21:20
# actual   : 22:20
# --
# 
not ok 34 subtract more than two hours with borrow
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 266)
#   `assert_output "03:35"' failed
# 
# -- output differs --
# expected : 03:35
# actual   : 04:35
# --
# 
not ok 35 subtract more than one day (1500 min = 25 hrs)
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 273)
#   `assert_output "04:32"' failed
# 
# -- output differs --
# expected : 04:32
# actual   : -18:-28
# --
# 
not ok 36 subtract more than two days
# (from function `assert_output' in file bats-extra.bash, line 394,
#  in test file clock.bats, line 280)
#   `assert_output "00:20"' failed
# 
# -- output differs --
# expected : 00:20
# actual   : -22:-40
# --
# 
not ok 37 no args
# (from function `assert_failure' in file bats-extra.bash, line 190,
#  in test file clock.bats, line 290)
#   `assert_failure' failed
# 
# -- command succeeded, but it was expected to fail --
# output (2 lines):
#   (standard_in) 1: syntax error
#   00:00
# --
# 
not ok 38 too many args
# (from function `assert_failure' in file bats-extra.bash, line 190,
#  in test file clock.bats, line 297)
#   `assert_failure' failed
# 
# -- command succeeded, but it was expected to fail --
# output : 01:02
# --
# 
not ok 39 three args
# (from function `assert_failure' in file bats-extra.bash, line 190,
#  in test file clock.bats, line 304)
#   `assert_failure' failed
# 
# -- command succeeded, but it was expected to fail --
# output (3 lines):
#   (standard_in) 1: syntax error
#   (standard_in) 2: syntax error
#   00:00
# --
# 
not ok 40 invalid delta
# (from function `assert_failure' in file bats-extra.bash, line 190,
#  in test file clock.bats, line 311)
#   `assert_failure' failed
# 
# -- command succeeded, but it was expected to fail --
# output : 01:02
# --
# 
not ok 41 non-numeric args are errors
# (from function `assert_failure' in file bats-extra.bash, line 190,
#  in test file clock.bats, line 318)
#   `assert_failure' failed
# 
# -- command succeeded, but it was expected to fail --
# output : 00:00
# --
# 
not ok 42 non-numeric delta errors
# (from function `assert_failure' in file bats-extra.bash, line 190,
#  in test file clock.bats, line 325)
#   `assert_failure' failed
# 
# -- command succeeded, but it was expected to fail --
# output (3 lines):
#   (standard_in) 1: syntax error
#   (standard_in) 2: syntax error
#   00:00
# --
# 

real	0m3.584s
user	0m2.656s
sys	0m1.390s
