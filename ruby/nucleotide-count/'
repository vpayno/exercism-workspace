# frozen_string_literal: false

# https://exercism.org/tracks/ruby/exercises/nucleotide-count
# Nucleotide Count exercise
class Nucleotide
  def initialize(sequence)
    @sequence = sequence.upcase.chomp
  end

  def self.from_dna(sequence)
    raise ArgumentError, "DNA sequence must only contain nucleotides A, C, G and T" unless sequence.match(/+[ACGT]+$/)
    Nucleotide.new(sequence)
  end

  def count(key)
    @sequence.chars.count(key)
  end

  def histogram
    @sequence.chars.each_with_object(Hash.new(0)) do |nucleotide, new_hash|
      new_hash[nucleotide] += 1
    end
  end
end
