
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>romannumerals: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">romannumerals/roman_numerals.go (94.9%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">no coverage</span>
				<span class="cov1">low coverage</span>
				<span class="cov2">*</span>
				<span class="cov3">*</span>
				<span class="cov4">*</span>
				<span class="cov5">*</span>
				<span class="cov6">*</span>
				<span class="cov7">*</span>
				<span class="cov8">*</span>
				<span class="cov9">*</span>
				<span class="cov10">high coverage</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">// Package romannumerals is used to convert numbers from decimals to roman numerals.
package romannumerals

import (
        "errors"
        "strings"
)

// ToRomanNumeral returns a roman numeral string and and error code.
func ToRomanNumeral(input int) (string, error) <span class="cov7" title="49">{
        if input &lt;= 0 </span><span class="cov2" title="3">{
                return "", errors.New("Roman numerals can't be less than or equal to 0")
        }</span>

        // Only process numbers &lt;=3k.
        <span class="cov7" title="46">if input &gt; 3_000 </span><span class="cov2" title="2">{
                return "", errors.New("Roman numerals were apparently rarely greater than 3k")
        }</span>

        /*
           Steps
           1. set remainder to number
           2. divide remainder by 1000
           3. if == 0 then look for special case for IV, IX, XL, XC, CD, CM
              a. if true then record it and substract it from the remainder
              b. if false continue with the next number
           4. if != 0 then
              a. output n, nn, nnn case
              b. update the remainder
              c. continue with the next number
        */

        <span class="cov7" title="44">var d2r map[int]string = map[int]string{
                1:     "I",
                5:     "V",
                10:    "X",
                50:    "L",
                100:   "C",
                500:   "D",
                1_000: "M",
        }

        var subLadder map[int]int = map[int]int{
                10:    1,
                50:    10,
                100:   10,
                500:   100,
                1_000: 100,
        }

        var outLadder map[int]string = map[int]string{
                10:    "I",
                50:    "X",
                100:   "X",
                500:   "C",
                1_000: "C",
        }

        var remainder int = input
        var output string
        var register int

        var numbers []int = []int{1_000, 500, 100, 50, 10, 5, 1}

        for _, next := range numbers </span><span class="cov10" title="279">{

                if remainder &lt;= 0 </span><span class="cov5" title="17">{
                        break</span>
                }

                <span class="cov9" title="262">register = remainder / next

                if register == 0 </span><span class="cov9" title="182">{
                        subNum, found := subLadder[next]

                        if !found </span><span class="cov5" title="19">{
                                subNum = 1
                        }</span>

                        <span class="cov9" title="182">if remainder &gt;= next-subNum </span><span class="cov5" title="13">{

                                // IV IX XL XC CD CM
                                value, found := outLadder[next]

                                if !found </span><span class="cov2" title="3">{
                                        value = "I"
                                }</span>

                                <span class="cov5" title="13">output += value

                                value, found = d2r[next]

                                if !found </span><span class="cov0" title="0">{
                                        value = ""
                                }</span>

                                <span class="cov5" title="13">output += value

                                register = remainder - (next - subNum)

                                remainder = register</span>

                        }

                        <span class="cov9" title="182">continue</span>

                } else<span class="cov8" title="80"> {

                        value, found := d2r[next]

                        if !found </span><span class="cov0" title="0">{
                                value = ""
                        }</span>

                        // III xxx CCC
                        <span class="cov8" title="80">output += strings.Repeat(value, register)

                        register = remainder % next

                        remainder = register

                        continue</span>
                }
        }

        <span class="cov7" title="44">return output, nil</span>
}
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
